LIBDIR = {PACKAGEPREFIX}{LIBDIR}

CC = {CC}
CFLAGS = -Wall -O2 -I../include -I../../include -I../common -fPIC -shared {DEBUGFLAGS} {ARCHFLAGS}
CLIBS = {ARCHLIBS} -lm

all:	libuade.so libuade.a

include ../common/Makefile.common

libuade.so:	$(COMMONMODULES)
	$(CC) -Wl,-soname,$@ -shared -o $@ $(CLIBS) $(COMMONMODULES)

libuade.a:	$(COMMONMODULES)
	ar rcs $@ $(COMMONMODULES)

install:	libuade.so
	install $< "$(LIBDIR)"/

clean:	
	rm -f *.o *.so *.a
